(this["webpackJsonpreact-flask-app"]=this["webpackJsonpreact-flask-app"]||[]).push([[0],{110:function(e,t,r){},138:function(e,t,r){},140:function(e,t,r){},145:function(e,t,r){},146:function(e,t,r){},148:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(36),s=r.n(a),i=(r(110),r(14)),o=r.n(i),u=r(23),l=r(11),j=r(39),d=r(61),b=r(29),h=r.n(b),p=r(16),O=r(44),x=r(179),f=r(191),m=r(196),v=r(197),g=r(194),y=r(192),S=r(193),P=r(185),k=r(184),C=r(188),T=r(190),R=r(187),_=r(189),E=r(2),A=Object(x.a)((function(e){return{smallAvatar:{width:e.spacing(3),height:e.spacing(3)}}}));function N(e){var t=A();return e.authenticated?e.profilePicture?Object(E.jsx)(y.a,{onClick:e.handleLogout,id:"ib",children:Object(E.jsx)(_.a,{src:e.profilePicture,className:t.smallAvatar})}):Object(E.jsx)(S.a,{onClick:e.handleLogout,color:"inherit",children:"Logout"}):Object(E.jsx)(E.Fragment,{children:" "})}var w=r(41);h.a.defaults.headers.common["X-Requested-With"]="XmlHttpRequest";var F=Object(x.a)((function(e){return{content:{textAlign:"center",marginTop:40}}}));function I(e){var t=F(),r=Object(n.useState)(!1),c=Object(l.a)(r,2),a=c[0],s=c[1];return e.authRequired?Object(E.jsxs)("div",{className:t.content,children:[Object(E.jsx)(g.a,{variant:"h5",gutterBottom:!0,children:"Please log in"}),Object(E.jsx)(w.GoogleLogin,{clientId:"682392515702-8073lsudamcf05clhsl95fv6f1r9636i.apps.googleusercontent.com",buttonText:"Log in with Google",onSuccess:function(t){function r(){return(r=Object(u.a)(o.a.mark((function r(){var n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=new FormData).set("id_token",t.tokenObj.id_token),r.prev=2,r.next=5,h.a.post("".concat("/","me"),n);case 5:e.setAuthRequired(!1),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),s(!0);case 11:case"end":return r.stop()}}),r,null,[[2,8]])})))).apply(this,arguments)}console.log("success"),function(){r.apply(this,arguments)}()},onFailure:function(e){console.log(e),s(!0)},cookiePolicy:"single_host_origin",redirectUri:"postmessage",scope:"openid"}),Object(E.jsx)(T.a,{open:a,autoHideDuration:1e4,onClose:function(){return s(!1)},children:Object(E.jsx)(R.a,{elevation:6,severity:"error",children:"Error logging in"})})]}):Object(E.jsx)(p.a,{to:"/"})}var L=Object(x.a)((function(e){return{content:{textAlign:"center",marginTop:40}}}));function q(e){var t=Object(n.useState)(""),r=Object(l.a)(t,2),c=r[0],a=r[1],s=Object(n.useState)(""),i=Object(l.a)(s,2),j=i[0],d=i[1],b=L(),p=[e.authRequired,e.setAuthRequired],O=p[0],x=p[1];return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("/","me"));case 3:t=e.sent,a(t.data.name),d(t.data.google_id),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0.response&&401===e.t0.response.status&&x(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[O,x]),c&&j?Object(E.jsxs)("div",{className:b.content,children:[Object(E.jsxs)(g.a,{variant:"h4",children:["Hello, ",c]}),Object(E.jsx)(g.a,{variant:"body1",children:"Click your profile picture to log out."}),Object(E.jsxs)(g.a,{variant:"body1",children:["Google subscriber ID: ",j,"."]})]}):Object(E.jsx)("div",{className:b.content,children:Object(E.jsx)(g.a,{variant:"h5",children:"Loading..."})})}var D=r(96),B=(r(138),r(64),function(e){var t=e.label,r=e.id,n=Object(d.a)(e,["label","id"]);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("input",Object(j.a)({id:r},n)),Object(E.jsx)("label",{htmlFor:r,children:t})]})}),H=function(e){var t=Object(D.a)({defaultValues:{fruit:"\ud83c\udf4e"},onSubmit:function(e){return alert(JSON.stringify(e,void 0,2))}}).form;return Object(E.jsxs)("form",{ref:t,children:[Object(E.jsxs)("fieldset",{children:[Object(E.jsx)("legend",{children:"Fruit"}),Object(E.jsx)(B,{label:"\ud83c\udf4e",id:"apple",name:"fruit",value:"\ud83c\udf4e",type:"radio"}),Object(E.jsx)(B,{label:"\ud83c\udf4b",id:"lemon",name:"fruit",value:"\ud83c\udf4b",type:"radio"}),Object(E.jsx)(B,{label:"\ud83e\udd5d",id:"kiwi",name:"fruit",value:"\ud83e\udd5d",type:"radio"})]}),Object(E.jsx)("input",{type:"submit"})]})},G=r(91),W=r.n(G),M=(r(140),function(e){return Object(E.jsx)("div",{className:"container",children:Object(E.jsxs)("ul",{className:"flex-item",children:[Object(E.jsx)("li",{children:e.currentProperty?Object(E.jsx)("img",{src:e.currentProperty.properties[0].photos[0].href,alt:"thumbnail",width:"90%"}):""}),Object(E.jsx)("li",{children:e.currentProperty?e.currentProperty.properties[0].property_id:""}),Object(E.jsx)("li",{children:e.currentProperty?e.address:""}),Object(E.jsx)("li",{children:e.currentProperty?Object(E.jsx)(W.a,{value:e.currentProperty.meta.tracking_params.listingPrice,displayType:"text",thousandSeparator:!0,prefix:"$"}):""}),Object(E.jsx)("li",{children:e.currentProperty?e.currentProperty.properties[0].description:""}),Object(E.jsx)("li",{children:e.currentProperty?Object(E.jsx)(H,{currentProperty:e.currentProperty}):""})]})})}),X=r(59),J=r(60),K=r(95),U=r(93),V=r(92),Y=r.n(V),$=(r(145),function(e){Object(K.a)(r,e);var t=Object(U.a)(r);function r(e){var n;return Object(X.a)(this,r),(n=t.call(this,e)).handleChange=function(e){n.setState({address:e})},n.onFormSubmit=function(e){e.preventDefault(),n.props.searchPropertyById(n.state.address)},n.state={address:""},n}return Object(J.a)(r,[{key:"render",value:function(){var e=this;return Object(E.jsxs)("div",{children:[Object(E.jsx)(Y.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect,children:function(t){var r=t.getInputProps,n=t.suggestions,c=t.getSuggestionItemProps,a=t.loading;return Object(E.jsxs)("form",{onSubmit:e.onFormSubmit,children:[Object(E.jsx)("input",Object(j.a)({},r({placeholder:"Enter Address",className:"location-search-input"}))),Object(E.jsx)("input",{type:"submit",name:"Submit"}),Object(E.jsxs)("div",{className:"autocomplete-dropdown-container",children:[a&&Object(E.jsx)("div",{children:"Loading..."}),n.map((function(e,t){var r=e.active?{backgroundColor:"#42a5f5",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return Object(E.jsxs)("div",Object(j.a)(Object(j.a)({className:"input-suggestion"},c(e,{style:r})),{},{children:[Object(E.jsx)("i",{className:"material-icons",children:" "})," ",Object(E.jsx)("span",{children:e.description})]}),t)}))]})]})}}),Object(E.jsx)(M,{currentProperty:this.props.currentProperty,address:this.state.address})]})}}]),r}(n.Component)),z=function(e){var t=Object(n.useState)({searchTerm:""}),r=Object(l.a)(t,2),c=r[0],a=r[1];return Object(E.jsx)("div",{children:Object(E.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.searchPropertyById(c.searchTerm),a({searchTerm:""})},children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{children:"SEARCH BY ADDRESS"}),Object(E.jsx)("label",{htmlFor:"searchTerm"})]}),Object(E.jsx)("input",{className:"search-bar",name:"searchTerm",id:"searchTerm",onChange:function(e){a({searchTerm:e.target.value})},value:c.searchTerm,placeholder:"Enter Address"}),Object(E.jsx)("input",{type:"submit",name:"Submit"}),Object(E.jsx)(M,{className:"container",currentProperty:e.currentProperty})]})})},Q=function(e){return Object(E.jsx)("div",{children:"list"})};r(146);var Z="/";h.a.defaults.headers.common["X-Requested-With"]="XmlHttpRequest";var ee=Object(x.a)((function(e){return{title:{flexGrow:1}}})),te=function(e){var t=e.children,r=e.authRequired,n=Object(d.a)(e,["children","authRequired"]);return Object(E.jsx)(p.b,Object(j.a)(Object(j.a)({},n),{},{children:r?Object(E.jsx)(p.a,{to:"/login"}):t}))},re=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),r=(t[0],t[1]),c=Object(n.useState)(null),a=Object(l.a)(c,2),s=a[0],i=a[1],j=Object(n.useState)(null),d=Object(l.a)(j,2),b=d[0],x=d[1],_=ee(),A=Object(n.useState)(!1),w=Object(l.a)(A,2),F=w[0],L=w[1],D=Object(n.useState)(null),B=Object(l.a)(D,2),H=B[0],G=B[1],W=Object(n.useState)(!1),X=Object(l.a)(W,2),J=X[0],K=X[1],U=Object(n.useState)(null),V=Object(l.a)(U,2),Y=V[0],re=V[1],ne=Boolean(Y),ce=function(){re(null)};Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=13;break}return e.prev=1,e.next=4,h.a.get("".concat(Z,"me"));case 4:t=e.sent,G(t.data.picture),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.response&&401===e.t0.response.status&&L(!0);case 11:e.next=14;break;case 13:G(null);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[F]);var ae=function(e){h.a.get("".concat(Z,"id/").concat(e)).then((function(e){var t=e.data.autocomplete[0].mpr_id;return i(t),console.log(t),t})).then((function(e){h.a.get("".concat(Z,"details/").concat(e)).then((function(e){var t=e.data;x(t),console.log(t)}))})).catch((function(e){r(e.message)}))};return Object(E.jsxs)("div",{children:[Object(E.jsx)(f.a,{}),Object(E.jsx)(O.a,{children:Object(E.jsxs)("div",{children:[Object(E.jsxs)(m.a,{position:"static",style:{background:"#8bc34a"},children:[Object(E.jsxs)(v.a,{children:[Object(E.jsx)(g.a,{color:"inherit",variant:"h6",className:_.title,children:"Greenacre Hub"}),Object(E.jsx)(N,{handleLogout:function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.delete("".concat(Z,"me"));case 3:200!==(t=e.sent).status&&204!==t.status||L(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),K(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},authenticated:!F,profilePicture:H})]}),Object(E.jsxs)(y.a,{edge:"start",className:_.menuButton,color:"inherit","aria-label":"menu",children:[Object(E.jsx)(S.a,{"aria-controls":"fade-menu","aria-haspopup":"true",onClick:function(e){re(e.currentTarget)},children:"Menu"}),Object(E.jsxs)(P.a,{id:"fade-menu",anchorEl:Y,keepMounted:!0,open:ne,onClose:ce,TransitionComponent:k.a,children:[Object(E.jsx)(C.a,{onClick:ce,children:Object(E.jsx)(O.b,{to:"/",children:"Home"})}),Object(E.jsx)(C.a,{onClick:ce,children:Object(E.jsx)(O.b,{to:"/list",children:"My List"})}),Object(E.jsx)(C.a,{onClick:ce,children:Object(E.jsx)(O.b,{to:"/AutoComplete",children:"Search"})})]})]})]}),Object(E.jsx)("main",{children:Object(E.jsx)("section",{children:Object(E.jsxs)(p.d,{children:[Object(E.jsx)(p.b,{path:"/search",children:Object(E.jsx)(z,{searchPropertyById:ae,currentProperty:b})}),Object(E.jsx)(p.b,{path:"/list",children:Object(E.jsx)(Q,{})}),Object(E.jsx)(p.b,{path:"/details",children:Object(E.jsx)(M,{currentProperty:b})}),Object(E.jsx)(p.b,{path:"/AutoComplete",children:Object(E.jsx)($,{searchPropertyById:ae,currentProperty:b,currentPropertyId:s})}),Object(E.jsx)(p.b,{path:"/login",children:Object(E.jsx)(I,{authRequired:F,setAuthRequired:L,clientId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOOGLE_CLIENT_ID})}),Object(E.jsx)(te,{authRequired:F,path:"/",children:Object(E.jsx)(q,{setAuthRequired:L})})]})})})]})}),Object(E.jsx)(T.a,{open:J,autoHideDuration:1e4,onClose:function(){return K(!1)},children:Object(E.jsx)(R.a,{variant:"filled",elevated:6,severity:"error",children:"Couldn't log out"})})]})},ne=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,198)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))};s.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(re,{})}),document.getElementById("root")),ne()},64:function(e,t,r){}},[[148,1,2]]]);
//# sourceMappingURL=main.998a5c65.chunk.js.map