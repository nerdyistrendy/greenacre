(this["webpackJsonpreact-flask-app"]=this["webpackJsonpreact-flask-app"]||[]).push([[0],{160:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},194:function(e,t,a){},203:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(14),s=a.n(n),o=(a(160),a(19)),i=a.n(o),l=a(33),_=a(11),u=a(7),d=a(46),j=a(15),b=a.n(j),p=a(16),O=a(20),h=a(132),g=a(214),m=a(273),f=a(265),x=a(209),P=a(67),S=a(134),v=a(129),E=a(262),R=a(282),y=a(279),L=a(274),D=a(115),C=a.n(D),I=a(2),M=Object(h.a)((function(e){return{smallAvatar:{width:e.spacing(3),height:e.spacing(3)}}}));function k(e){M();return e.authenticated?e.profilePicture?Object(I.jsx)(P.a,{onClick:e.handleLogout,id:"ib",children:Object(I.jsx)(C.a,{src:e.profilePicture,fontSize:"large"})}):Object(I.jsx)(S.a,{onClick:e.handleLogout,color:"inherit",children:"Logout"}):Object(I.jsx)(I.Fragment,{children:" "})}var T=a(116);b.a.defaults.headers.common["X-Requested-With"]="XmlHttpRequest";var U=Object(h.a)((function(e){return{content:{textAlign:"center",marginTop:40}}}));function w(e){var t=U(),a=Object(r.useState)(!1),c=Object(_.a)(a,2),n=c[0],s=c[1];return e.authRequired?Object(I.jsxs)("div",{className:t.content,children:[Object(I.jsx)(x.a,{variant:"h5",gutterBottom:!0,children:"Please log in"}),Object(I.jsx)(T.GoogleLogin,{clientId:"682392515702-8073lsudamcf05clhsl95fv6f1r9636i.apps.googleusercontent.com",buttonText:"Log in with Google",onSuccess:function(t){function a(){return(a=Object(l.a)(i.a.mark((function a(){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(r=new FormData).set("id_token",t.tokenObj.id_token),a.prev=2,a.next=5,b.a.post("".concat("/","me"),r);case 5:localStorage.setItem("currentUserIDLocalStorage",JSON.stringify(t.profileObj.googleId)),e.getLists(),e.setAuthRequired(!1),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),s(!0);case 13:case"end":return a.stop()}}),a,null,[[2,10]])})))).apply(this,arguments)}console.log("success"),function(){a.apply(this,arguments)}()},onFailure:function(e){console.log(e),s(!0)},cookiePolicy:"single_host_origin",redirectUri:"postmessage",scope:"openid"}),Object(I.jsx)(y.a,{open:n,autoHideDuration:1e4,onClose:function(){return s(!1)},children:Object(I.jsx)(L.a,{elevation:6,severity:"error",children:"Error logging in"})})]}):Object(I.jsx)(p.a,{to:"/"})}var A=a(117),B=a.n(A),N=a(74),F=a.n(N),W=(a(189),Object(h.a)((function(e){return{content:{textAlign:"center",marginTop:40}}})));function H(e){var t=Object(r.useState)(""),a=Object(_.a)(t,2),c=a[0],n=a[1],s=Object(r.useState)(""),o=Object(_.a)(s,2),u=o[0],d=o[1],j=W(),p=[e.authRequired,e.setAuthRequired],h=p[0],g=p[1];return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat("/","me"));case 3:t=e.sent,n(t.data.name),d(t.data.google_id),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0.response&&401===e.t0.response.status&&g(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[h,g]),c&&u?Object(I.jsxs)("div",{className:j.content,children:[Object(I.jsxs)("p",{className:"welcome",children:["Welcome, ",c]}),Object(I.jsxs)(x.a,{variant:"body1",children:["Google subscriber ID: ",u,"."]}),Object(I.jsxs)("section",{className:"icons",children:[Object(I.jsx)("p",{children:Object(I.jsx)(O.b,{to:"/list",children:Object(I.jsx)(B.a,{style:{fontSize:50}})})}),Object(I.jsx)("p",{children:Object(I.jsx)(O.b,{to:"/Autocomplete",children:Object(I.jsx)(F.a,{style:{fontSize:50}})})})]})]}):Object(I.jsx)("div",{className:j.content,children:Object(I.jsx)(x.a,{variant:"h5",children:"Loading..."})})}var K,G=a(130),q=(a(190),a(84),function(e){var t=e.label,a=e.id,r=Object(d.a)(e,["label","id"]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("input",Object(u.a)({id:a},r)),Object(I.jsx)("label",{htmlFor:a,children:t})]})}),J=function(e){var t=Object(G.a)({defaultValues:{list:"favorite"},onSubmit:function(t){return e.addPropertyToList(e.currentUser,t.list,e.currentProperty,e.address)}}).form;return Object(I.jsxs)("form",{ref:t,children:[Object(I.jsxs)("fieldset",{children:[Object(I.jsx)("legend",{children:"Add to List"}),(JSON.parse(localStorage.getItem("currentListsLocalStorage"))[0]||[]).map((function(e,t){return Object(I.jsx)(q,{label:e,id:e,name:"list",value:e,type:"radio"},t)}))]}),Object(I.jsx)("input",{type:"submit"})]})},$=a(119),z=a(120),X=a.n(z),V=a(87),Y=a(121),Q=a.n(Y),Z=(a(194),Object(V.css)(K||(K=Object($.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"])))),ee=function(e){var t=Object(r.useState)(!0),a=Object(_.a)(t,2),c=a[0],n=(a[1],Object(r.useState)("#ffffff")),s=Object(_.a)(n,2),o=s[0];s[1];return Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)("ul",{className:"flex-item",children:[Object(I.jsx)("li",{children:e.currentProperty?Object(I.jsx)("img",{src:e.currentProperty.properties[0].photos[0].href,alt:"thumbnail",width:"90%"}):Object(I.jsx)(Q.a,{color:o,loading:c,css:Z,size:150})}),Object(I.jsx)("li",{children:e.currentProperty?e.currentProperty.meta.tracking_params.mprId:""}),Object(I.jsx)("li",{children:e.currentProperty?e.address:""}),Object(I.jsx)("li",{children:e.currentProperty?Object(I.jsx)(X.a,{value:e.currentProperty.meta.tracking_params.listingPrice,displayType:"text",thousandSeparator:!0,prefix:"$"}):""}),Object(I.jsx)("li",{children:e.currentProperty?e.currentProperty.properties[0].description:""}),Object(I.jsx)("li",{children:e.currentProperty?Object(I.jsx)(J,{currentProperty:e.currentProperty,currentUser:e.currentUser,currentUserLists:e.currentUserLists,addPropertyToList:e.addPropertyToList,getLists:e.getLists,address:e.address}):""})]})})},te=a(122),ae=a(123),re=a(131),ce=a(128),ne=a(124),se=a.n(ne),oe=(a(203),function(e){Object(re.a)(a,e);var t=Object(ce.a)(a);function a(e){var r;return Object(te.a)(this,a),(r=t.call(this,e)).handleChange=function(e){r.setState({address:e})},r.onFormSubmit=function(e){e.preventDefault(),r.props.searchPropertyById(r.state.address),r.setState({address:""})},r.state={address:""},r}return Object(ae.a)(a,[{key:"render",value:function(){var e=this;return Object(I.jsxs)("div",{children:[Object(I.jsx)(se.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect,children:function(t){var a=t.getInputProps,r=t.suggestions,c=t.getSuggestionItemProps,n=t.loading;return Object(I.jsxs)("form",{onSubmit:e.onFormSubmit,children:[Object(I.jsx)("input",Object(u.a)({},a({placeholder:"Enter Address",className:"location-search-input"}))),Object(I.jsx)("input",{type:"submit",name:"Submit"}),Object(I.jsxs)("div",{className:"autocomplete-dropdown-container",children:[n&&Object(I.jsx)("div",{children:"Loading..."}),r.map((function(e,t){var a=e.active?{backgroundColor:"#42a5f5",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return Object(I.jsxs)("div",Object(u.a)(Object(u.a)({className:"input-suggestion"},c(e,{style:a})),{},{children:[Object(I.jsx)("i",{className:"material-icons",children:" "})," ",Object(I.jsx)("span",{children:e.description})]}),t)}))]})]})}}),Object(I.jsx)(ee,{currentProperty:this.props.currentProperty,address:this.state.address,currentUser:this.props.currentUser,currentUserLists:this.props.currentUserLists,addPropertyToList:this.props.addPropertyToList,getLists:this.props.getLists})]})}}]),a}(r.Component)),ie=function(e){var t=Object(r.useState)({searchTerm:""}),a=Object(_.a)(t,2),c=a[0],n=a[1];return Object(I.jsx)("div",{children:Object(I.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.searchPropertyById(c.searchTerm),n({searchTerm:""})},children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("h1",{children:"SEARCH BY ADDRESS"}),Object(I.jsx)("label",{htmlFor:"searchTerm"})]}),Object(I.jsx)("input",{className:"search-bar",name:"searchTerm",id:"searchTerm",onChange:function(e){n({searchTerm:e.target.value})},value:c.searchTerm,placeholder:"Enter Address"}),Object(I.jsx)("input",{type:"submit",name:"Submit"}),Object(I.jsx)(ee,{className:"container",currentProperty:e.currentProperty})]})})},le=a(23),_e=a(80),ue=a(277),de=a(267),je=a(271),be=a(270),pe=a(266),Oe=a(268),he=(a(86),a(269)),ge=a(281),me=a(75),fe=a(4),xe=a(78),Pe=a.n(xe),Se=a(77),ve=a(12),Ee=a(217),Re=Object(h.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ve.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:"#d0e4b9"},title:{flex:"1 1 100%"}}})),ye=function(e){var t=Re(),a=e.numSelected,r=e.addUserHandler,c=e.deleteUserHandler,n=e.preGlobalFilteredRows,s=e.setGlobalFilter,o=e.globalFilter;return Object(I.jsxs)(f.a,{className:Object(fe.a)(t.root,Object(le.a)({},t.highlight,a>0)),children:[Object(I.jsx)("h3",{children:" Lists "}),Object(I.jsx)(me.a,{addUserHandler:r,getLists:e.getLists}),a>0?Object(I.jsxs)(x.a,{className:t.title,style:{background:"#d0e4b9"},variant:"subtitle1",children:[a," selected"]}):Object(I.jsx)(x.a,{className:t.title,variant:"h6",id:"tableTitle"}),a>0?Object(I.jsx)(Ee.a,{title:"Delete",children:Object(I.jsx)(P.a,{"aria-label":"delete",onClick:c,children:Object(I.jsx)(Pe.a,{})})}):Object(I.jsx)(Se.a,{preGlobalFilteredRows:n,globalFilter:o,setGlobalFilter:s})]})},Le=a(34),De=c.a.forwardRef((function(e,t){var a=e.indeterminate,r=Object(d.a)(e,["indeterminate"]),n=c.a.useRef(),s=t||n;return c.a.useEffect((function(){s.current.indeterminate=a}),[s,a]),Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(ue.a,Object(u.a)(Object(u.a)({ref:s},r),{},{style:{color:"#8bc34a"}}))})})),Ce={},Ie=function(e){var t=e.columns,a=e.data,r=e.setData,c=e.updateMyData,n=e.skipPageReset,s=e.getLists,o=Object(Le.useTable)({columns:t,data:a,defaultColumn:Ce,autoResetPage:!n,updateMyData:c},Le.useGlobalFilter,Le.useSortBy,Le.usePagination,Le.useRowSelect,(function(e){e.allColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(I.jsx)("div",{children:Object(I.jsx)(De,Object(u.a)({},t()))})},Cell:function(e){var t=e.row;return Object(I.jsx)("div",{children:Object(I.jsx)(De,Object(u.a)({},t.getToggleRowSelectedProps()))})}}].concat(Object(_e.a)(e))}))})),i=o.getTableProps,l=o.headerGroups,_=o.prepareRow,d=o.page,j=(o.gotoPage,o.setPageSize,o.preGlobalFilteredRows),p=o.setGlobalFilter,h=o.state,g=(h.pageIndex,h.pageSize,h.selectedRowIds),m=h.globalFilter;return Object(I.jsxs)(pe.a,{children:[Object(I.jsx)(ye,{numSelected:Object.keys(g).length,deleteUserHandler:function(e){Object.keys(g).map((function(e){return b.a.post("/delete/".concat(JSON.parse(localStorage.getItem("currentUserIDLocalStorage")),"/").concat(a[e].listName)).then((function(e){s()}))}));var t,c,n=(t=a,c=Object.keys(g).map((function(e){return parseInt(e,10)})),t.filter((function(e,t){return!c.includes(t)})));r(n)},addUserHandler:function(e){var t=a.concat([e]);r(t)},preGlobalFilteredRows:j,setGlobalFilter:p,globalFilter:m,getLists:s}),Object(I.jsxs)(de.a,Object(u.a)(Object(u.a)({},i()),{},{children:[Object(I.jsx)(Oe.a,{children:l.map((function(e){return Object(I.jsx)(he.a,Object(u.a)(Object(u.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(I.jsxs)(be.a,Object(u.a)(Object(u.a)({},"selection"===e.id?e.getHeaderProps():e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),"selection"!==e.id?Object(I.jsx)(ge.a,{active:e.isSorted,direction:e.isSortedDesc?"desc":"asc"}):null]}))}))}))}))}),Object(I.jsx)(je.a,{children:d.map((function(e,t){return _(e),Object(I.jsx)(he.a,Object(u.a)(Object(u.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(I.jsx)(be.a,Object(u.a)(Object(u.a)({},e.getCellProps()),{},{children:"selection"!==e.column.id?Object(I.jsx)(O.b,{to:"/list/".concat(e.row.original.listId),children:e.render("Cell")}):e.render("Cell")}))}))}))}))})]}))]})},Me=(a(206),function(e){for(var t=JSON.parse(localStorage.getItem("currentListsLocalStorage")||[]),a=t[0].length,r=[],n=0;n<a;n++)r.push({listName:t[0][n],listId:t[1][n]});var s=c.a.useMemo((function(){return[{Header:"List Name",accessor:"listName"}]}),[]),o=c.a.useState(c.a.useMemo((function(){return r}),[])),i=Object(_.a)(o,2),l=i[0],d=i[1],j=c.a.useState(!1),b=Object(_.a)(j,2),p=b[0],O=b[1];return Object(I.jsxs)("div",{children:[Object(I.jsx)(g.a,{}),Object(I.jsx)(Ie,{columns:s,data:l,setData:d,updateMyData:function(e,t,a){O(!0),d((function(r){return r.map((function(c,n){return n===e?Object(u.a)(Object(u.a)({},r[e]),{},Object(le.a)({},t,a)):c}))}))},skipPageReset:p,getLists:e.getLists})]})}),ke=a(95),Te=a(127),Ue=a.n(Te),we=(a(207),"/");b.a.defaults.headers.common["X-Requested-With"]="XmlHttpRequest";var Ae=Object(h.a)((function(e){return{title:{flexGrow:1}}})),Be=function(e){var t=e.children,a=e.authRequired,r=Object(d.a)(e,["children","authRequired"]);return Object(I.jsx)(p.b,Object(u.a)(Object(u.a)({},r),{},{children:a?Object(I.jsx)(p.a,{to:"/login"}):t}))},Ne=function(){var e=Object(r.useState)(null),t=Object(_.a)(e,2),a=(t[0],t[1]),c=Object(r.useState)(null),n=Object(_.a)(c,2),s=n[0],o=n[1],u=Object(r.useState)(null),d=Object(_.a)(u,2),j=d[0],h=d[1],D=Object(r.useState)(null),C=Object(_.a)(D,2),M=C[0],T=C[1],U=Object(r.useState)([]),A=Object(_.a)(U,2),B=A[0],N=A[1],F=Ae(),W=Object(r.useState)(!1),K=Object(_.a)(W,2),G=K[0],q=K[1],J=Object(r.useState)(null),$=Object(_.a)(J,2),z=$[0],X=$[1],V=Object(r.useState)(!1),Y=Object(_.a)(V,2),Q=Y[0],Z=Y[1],te=Object(r.useState)(null),ae=Object(_.a)(te,2),re=ae[0],ce=ae[1],ne=Boolean(re),se=function(){ce(null)};Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G){e.next=14;break}return e.prev=1,e.next=4,b.a.get("".concat(we,"me"));case 4:t=e.sent,X(t.data.picture),T(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response&&401===e.t0.response.status&&q(!0);case 12:e.next=15;break;case 14:X(null);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[G]);var le=function(e){b.a.get("".concat(we,"id/").concat(e)).then((function(e){var t=e.data.autocomplete[0].mpr_id;return o(t),console.log(t),t})).then((function(e){b.a.get("".concat(we,"details/").concat(e)).then((function(e){var t=e.data;h(t),console.log(t)}))})).catch((function(e){a(e.message)}))},_e=function(){console.log(JSON.parse(localStorage.getItem("currentUserIDLocalStorage"))),b.a.get("".concat(we).concat(JSON.parse(localStorage.getItem("currentUserIDLocalStorage")))).then((function(e){var t=e.data.message;return N(t),localStorage.setItem("currentListsLocalStorage",JSON.stringify(t)),console.log(JSON.parse(localStorage.getItem("currentListsLocalStorage"))[0]),t}))};return Object(I.jsxs)("div",{children:[Object(I.jsx)(g.a,{}),Object(I.jsx)(O.a,{children:Object(I.jsxs)("div",{children:[Object(I.jsxs)(m.a,{position:"static",style:{background:"#8bc34a"},children:[Object(I.jsxs)(f.a,{children:[Object(I.jsxs)(x.a,{color:"inherit",variant:"h6",className:F.title,children:[Object(I.jsx)(O.b,{to:"/",children:Object(I.jsx)(Ue.a,{fontSize:"large",color:"action"})})," Greenacre Hub"]}),Object(I.jsx)(k,{handleLogout:function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.delete("".concat(we,"me"));case 3:200!==(t=e.sent).status&&204!==t.status||q(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Z(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},authenticated:!G,profilePicture:z})]}),Object(I.jsxs)(P.a,{edge:"start",className:F.menuButton,color:"inherit","aria-label":"menu",children:[Object(I.jsx)(S.a,{"aria-controls":"fade-menu","aria-haspopup":"true",onClick:function(e){ce(e.currentTarget)},children:"Menu"}),Object(I.jsxs)(v.a,{id:"fade-menu",anchorEl:re,keepMounted:!0,open:ne,onClose:se,TransitionComponent:E.a,children:[Object(I.jsx)(R.a,{onClick:se,children:Object(I.jsx)(O.b,{to:"/",children:"Home"})}),Object(I.jsx)(R.a,{onClick:se,children:Object(I.jsx)(O.b,{to:"/list",children:"My Lists"})}),Object(I.jsx)(R.a,{onClick:se,children:Object(I.jsx)(O.b,{to:"/AutoComplete",children:"Search"})})]})]})]}),Object(I.jsx)("main",{children:Object(I.jsx)("section",{children:Object(I.jsxs)(p.d,{children:[Object(I.jsx)(p.b,{path:"/search",children:Object(I.jsx)(ie,{searchPropertyById:le,currentProperty:j})}),Object(I.jsx)(Be,{authRequired:G,path:"/list/:listId",component:ke.a,children:Object(I.jsx)(ke.a,{})}),Object(I.jsx)(Be,{authRequired:G,path:"/list",children:Object(I.jsx)(Me,{getLists:_e})}),Object(I.jsx)(p.b,{path:"/details",children:Object(I.jsx)(ee,{currentProperty:j})}),Object(I.jsx)(p.b,{path:"/AutoComplete",children:Object(I.jsx)(oe,{searchPropertyById:le,currentProperty:j,currentPropertyId:s,currentUser:M,getLists:_e,currentUserLists:B,addPropertyToList:function(e,t,a,r){b.a.post("".concat(we).concat(e.google_id,"/").concat(t,"/").concat(a.meta.tracking_params.mprId)),console.log(e),console.log(t),console.log(a),alert("Property added!"),h(null)}})}),Object(I.jsx)(p.b,{path:"/login",children:Object(I.jsx)(w,{authRequired:G,setAuthRequired:q,clientId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOOGLE_CLIENT_ID,getLists:_e})}),Object(I.jsx)(Be,{authRequired:G,path:"/",children:Object(I.jsx)(H,{setAuthRequired:q})})]})})})]})}),Object(I.jsx)(y.a,{open:Q,autoHideDuration:1e4,onClose:function(){return Z(!1)},children:Object(I.jsx)(L.a,{variant:"filled",elevated:6,severity:"error",children:"Couldn't log out"})})]})},Fe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,283)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),r(e),c(e),n(e),s(e)}))};s.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(Ne,{})}),document.getElementById("root")),Fe()},75:function(e,t,a){"use strict";var r=a(23),c=a(7),n=a(11),s=a(0),o=a.n(s),i=a(126),l=a.n(i),_=a(134),u=a(218),d=a(213),j=a(212),b=a(211),p=a(67),O=a(216),h=a(217),g=a(15),m=a.n(g),f=a(2),x={listName:"",subRows:void 0};t.a=function(e){var t,a=Object(s.useState)(x),i=Object(n.a)(a,2),g=i[0],P=i[1],S=e.addUserHandler,v=o.a.useState(!1),E=Object(n.a)(v,2),R=E[0],y=E[1],L=o.a.useState({addMultiple:!1}),D=Object(n.a)(L,2),C=D[0],I=D[1],M=function(){y(!1),I({addMultiple:!1})};return Object(f.jsxs)("div",{children:[Object(f.jsx)(h.a,{title:"Add",children:Object(f.jsx)(p.a,{"aria-label":"add",onClick:function(){y(!0)},children:Object(f.jsx)(l.a,{})})}),Object(f.jsxs)(u.a,{open:R,onClose:M,"aria-labelledby":"form-dialog-title",children:[Object(f.jsx)(b.a,{id:"form-dialog-title",children:"Add List"}),Object(f.jsx)(j.a,{children:Object(f.jsx)(O.a,{autoFocus:!0,margin:"dense",label:"List Name",type:"text",fullWidth:!0,value:g.listName,onChange:(t="listName",function(e){var a=e.target.value;P(Object(c.a)(Object(c.a)({},g),{},Object(r.a)({},t,a)))})})}),Object(f.jsxs)(d.a,{children:[Object(f.jsx)(_.a,{onClick:M,color:"primary",children:"Cancel"}),Object(f.jsx)(_.a,{onClick:function(t){S(g),P(x),C.addMultiple?y(!0):y(!1),m.a.post("/create/".concat(JSON.parse(localStorage.getItem("currentUserIDLocalStorage")),"/").concat(g.listName)).then((function(t){e.getLists()}))},color:"primary",children:"Add"})]})]})]})}},77:function(e,t,a){"use strict";var r=a(23),c=(a(0),a(96)),n=a(132),s=a(12),o=a(74),i=a.n(o),l=a(2),_=Object(n.a)((function(e){return{search:Object(r.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(s.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(s.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(r.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200})}}));t.a=function(e){var t=e.preGlobalFilteredRows,a=e.globalFilter,r=e.setGlobalFilter,n=_(),s=t.length;return Object(l.jsxs)("div",{className:n.search,children:[Object(l.jsx)("div",{className:n.searchIcon,children:Object(l.jsx)(i.a,{})}),Object(l.jsx)(c.a,{value:a||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"".concat(s," records..."),classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}})]})}},84:function(e,t,a){},86:function(e,t,a){"use strict";a(0);var r=a(92),c=a.n(r),n=a(67),s=a(94),o=a.n(s),i=a(93),l=a.n(i),_=a(91),u=a.n(_),d=a(132),j=a(28),b=a(2),p=Object(d.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));t.a=function(e){var t=p(),a=Object(j.a)(),r=e.count,s=e.page,i=e.rowsPerPage,_=e.onChangePage;return Object(b.jsxs)("div",{className:t.root,children:[Object(b.jsx)(n.a,{onClick:function(e){_(e,0)},disabled:0===s,"aria-label":"first page",children:"rtl"===a.direction?Object(b.jsx)(u.a,{}):Object(b.jsx)(c.a,{})}),Object(b.jsx)(n.a,{onClick:function(e){_(e,s-1)},disabled:0===s,"aria-label":"previous page",children:"rtl"===a.direction?Object(b.jsx)(l.a,{}):Object(b.jsx)(o.a,{})}),Object(b.jsx)(n.a,{onClick:function(e){_(e,s+1)},disabled:s>=Math.ceil(r/i)-1,"aria-label":"next page",children:"rtl"===a.direction?Object(b.jsx)(o.a,{}):Object(b.jsx)(l.a,{})}),Object(b.jsx)(n.a,{onClick:function(e){_(e,Math.max(0,Math.ceil(r/i)-1))},disabled:s>=Math.ceil(r/i)-1,"aria-label":"last page",children:"rtl"===a.direction?Object(b.jsx)(c.a,{}):Object(b.jsx)(u.a,{})})]})}},88:function(e,t,a){"use strict";var r=a(80),c=a(11),n=a(7),s=a(46),o=a(0),i=a.n(o),l=a(277),_=a(267),u=a(271),d=a(270),j=a(266),b=a(272),p=a(268),O=a(278),h=a(86),g=a(269),m=a(281),f=a(23),x=a(75),P=a(4),S=a(78),v=a.n(S),E=a(77),R=a(67),y=a(132),L=a(12),D=a(265),C=a(209),I=a(217),M=a(20),k=a(2),T=Object(y.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(L.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:"#d0e4b9"},title:{flex:"1 1 100%"}}})),U=function(e){var t=T(),a=e.numSelected,r=(e.addUserHandler,e.deleteUserHandler),c=e.preGlobalFilteredRows,n=e.setGlobalFilter,s=e.globalFilter;return Object(k.jsxs)(D.a,{className:Object(P.a)(t.root,Object(f.a)({},t.highlight,a>0)),children:[Object(k.jsx)("h3",{children:" Properties "}),Object(k.jsxs)(R.a,{children:["   ",Object(k.jsx)(M.b,{to:"/AutoComplete",children:Object(k.jsx)(x.a,{})})]}),a>0?Object(k.jsxs)(C.a,{className:t.title,style:{background:"#d0e4b9"},variant:"subtitle1",children:[a," selected"]}):Object(k.jsx)(C.a,{className:t.title,variant:"h6",id:"tableTitle"}),a>0?Object(k.jsx)(I.a,{title:"Delete",children:Object(k.jsx)(R.a,{"aria-label":"delete",onClick:r,children:Object(k.jsx)(v.a,{})})}):Object(k.jsx)(E.a,{preGlobalFilteredRows:c,globalFilter:s,setGlobalFilter:n})]})},w=a(34),A=a(15),B=a.n(A),N=i.a.forwardRef((function(e,t){var a=e.indeterminate,r=Object(s.a)(e,["indeterminate"]),c=i.a.useRef(),o=t||c;return i.a.useEffect((function(){o.current.indeterminate=a}),[o,a]),Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(l.a,Object(n.a)(Object(n.a)({ref:o},r),{},{style:{color:"#8bc34a"}}))})})),F={padding:0,margin:0,border:0,background:"transparent"},W={Cell:function(e){var t=e.value,a=e.row.index,r=e.column.id,n=e.updateMyData,s=i.a.useState(t),o=Object(c.a)(s,2),l=o[0],_=o[1];return i.a.useEffect((function(){_(t)}),[t]),Object(k.jsx)("input",{style:F,value:l,onChange:function(e){_(e.target.value)},onBlur:function(){n(a,r,l)}})}};t.a=function(e){var t=e.columns,a=e.data,c=e.setData,s=e.updateMyData,o=e.skipPageReset,i=e.listId,l=Object(w.useTable)({columns:t,data:a,defaultColumn:W,autoResetPage:!o,updateMyData:s},w.useGlobalFilter,w.useSortBy,w.usePagination,w.useRowSelect,(function(e){e.allColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(k.jsx)("div",{children:Object(k.jsx)(N,Object(n.a)({},t()))})},Cell:function(e){var t=e.row;return Object(k.jsx)("div",{children:Object(k.jsx)(N,Object(n.a)({},t.getToggleRowSelectedProps()))})}}].concat(Object(r.a)(e))}))})),f=l.getTableProps,x=l.headerGroups,P=l.prepareRow,S=l.page,v=l.gotoPage,E=l.setPageSize,R=l.preGlobalFilteredRows,y=l.setGlobalFilter,L=l.state,D=L.pageIndex,C=L.pageSize,I=L.selectedRowIds,M=L.globalFilter;return Object(k.jsxs)(j.a,{children:[Object(k.jsx)(U,{numSelected:Object.keys(I).length,deleteUserHandler:function(e){Object.keys(I).map((function(e){return B.a.post("/delete/".concat(JSON.parse(localStorage.getItem("currentUserIDLocalStorage")),"/").concat(i,"/").concat(a[e].property_id))}));var t,r,n=(t=a,r=Object.keys(I).map((function(e){return parseInt(e,10)})),t.filter((function(e,t){return!r.includes(t)})));c(n)},addUserHandler:function(e){var t=a.concat([e]);c(t)},preGlobalFilteredRows:R,setGlobalFilter:y,globalFilter:M}),Object(k.jsxs)(_.a,Object(n.a)(Object(n.a)({},f()),{},{children:[Object(k.jsx)(p.a,{children:x.map((function(e){return Object(k.jsx)(g.a,Object(n.a)(Object(n.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(k.jsxs)(d.a,Object(n.a)(Object(n.a)({},"selection"===e.id?e.getHeaderProps():e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),"selection"!==e.id?Object(k.jsx)(m.a,{active:e.isSorted,direction:e.isSortedDesc?"desc":"asc"}):null]}))}))}))}))}),Object(k.jsx)(u.a,{children:S.map((function(e,t){return P(e),Object(k.jsx)(g.a,Object(n.a)(Object(n.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(k.jsx)(d.a,Object(n.a)(Object(n.a)({},e.getCellProps()),{},{children:"thumbnail"===e.column.id?Object(k.jsx)("img",{src:e.value,alt:"thumbnail",width:"140%"}):e.render("Cell")}))}))}))}))}),Object(k.jsx)(b.a,{children:Object(k.jsx)(g.a,{children:Object(k.jsx)(O.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:a.length}],colSpan:3,count:a.length,rowsPerPage:C,page:D,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){v(t)},onChangeRowsPerPage:function(e){E(Number(e.target.value))},ActionsComponent:h.a})})})]}))]})}},95:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_Lea_ada_capstone_react_flask_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23),_Users_Lea_ada_capstone_react_flask_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),_Users_Lea_ada_capstone_react_flask_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),react_router_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16),_material_ui_core_CssBaseline__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(214),_EnhancedTable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(88),axios__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(15),axios__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_7__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__),PropertyList=function PropertyList(){var _useParams=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.g)(),listId=_useParams.listId,_React$useState=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(!1),_React$useState2=Object(_Users_Lea_ada_capstone_react_flask_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_React$useState,2),isLoaded=_React$useState2[0],setIsLoaded=_React$useState2[1];Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){axios__WEBPACK_IMPORTED_MODULE_7___default.a.get("/investor_list/".concat(listId)).then((function(response){var results=response.data.message,p_list=eval(results),pr_list=p_list.map((function(p){return eval({thumbnail:p.thumbnail,address:p.address,listing_status:p.listing_status,type:p.property_type,details:p.details,price:p.price,property_id:p.property_id,rent:p.rent,capRatio:p.capRatio,note:p.note,monthly_payment:p.monthly_payment,capRatio2530:p.capRatio2530})}));setData(pr_list),setIsLoaded(!0)}))}),[]);var columns=react__WEBPACK_IMPORTED_MODULE_3___default.a.useMemo((function(){return[{Header:"Thumbnail",accessor:"thumbnail"},{Header:"Address",accessor:"address"},{Header:"Price",accessor:"price"},{Header:"Type",accessor:"type"},{Header:"Listing Status",accessor:"listing_status"},{Header:"Details",accessor:"details"},{Header:"Rent",accessor:"rent"},{Header:"Cap Ratio (%)",accessor:"capRatio"},{Header:"Monthly Payment",accessor:"monthly_payment"},{Header:"25%-30y-Cap(%)",accessor:"capRatio2530"},{Header:"Note",accessor:"note"}]}),[]),_React$useState3=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState([]),_React$useState4=Object(_Users_Lea_ada_capstone_react_flask_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_React$useState3,2),data=_React$useState4[0],setData=_React$useState4[1],_React$useState5=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(!1),_React$useState6=Object(_Users_Lea_ada_capstone_react_flask_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_React$useState5,2),skipPageReset=_React$useState6[0],setSkipPageReset=_React$useState6[1],updateMyData=function(e,t,a){if(setSkipPageReset(!0),setData((function(r){return r.map((function(c,n){return n===e?Object(_Users_Lea_ada_capstone_react_flask_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_Users_Lea_ada_capstone_react_flask_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},r[e]),{},Object(_Users_Lea_ada_capstone_react_flask_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},t,a)):c}))})),"rent"===t){var r=(12*a/data[e].price*100).toFixed(2),c=(48*(a-data[e].monthly_payment)*100/data[e].price).toFixed(2);setData((function(t){return t.map((function(a,n){return n===e?Object(_Users_Lea_ada_capstone_react_flask_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_Users_Lea_ada_capstone_react_flask_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},t[e]),{},{capRatio:r,capRatio2530:c}):a}))}));var n=data[e].property_id;axios__WEBPACK_IMPORTED_MODULE_7___default.a.post("/".concat(JSON.parse(localStorage.getItem("currentUserIDLocalStorage")),"/").concat(n,"/").concat(t,"/").concat(a)).then((function(e){return axios__WEBPACK_IMPORTED_MODULE_7___default.a.post("/".concat(JSON.parse(localStorage.getItem("currentUserIDLocalStorage")),"/").concat(n,"/capRatio/").concat(r))})).then((function(e){return axios__WEBPACK_IMPORTED_MODULE_7___default.a.post("/".concat(JSON.parse(localStorage.getItem("currentUserIDLocalStorage")),"/").concat(n,"/capRatio2530/").concat(c))}))}if("note"===t){var s=data[e].property_id,o=axios__WEBPACK_IMPORTED_MODULE_7___default.a.post("/".concat(JSON.parse(localStorage.getItem("currentUserIDLocalStorage")),"/").concat(s,"/").concat(t,"/").concat(a));console.log(o)}};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_material_ui_core_CssBaseline__WEBPACK_IMPORTED_MODULE_5__.a,{}),isLoaded?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_EnhancedTable__WEBPACK_IMPORTED_MODULE_6__.a,{columns:columns,data:data,setData:setData,updateMyData:updateMyData,skipPageReset:skipPageReset,listId:listId}):"Loading"]})};__webpack_exports__.a=PropertyList}},[[208,1,2]]]);
//# sourceMappingURL=main.a43ef870.chunk.js.map