[{"/Users/Lea/ada/capstone/react-flask-app/src/reportWebVitals.js":"1","/Users/Lea/ada/capstone/react-flask-app/src/App.js":"2","/Users/Lea/ada/capstone/react-flask-app/src/index.js":"3","/Users/Lea/ada/capstone/react-flask-app/src/components/Search.js":"4","/Users/Lea/ada/capstone/react-flask-app/src/components/Details.js":"5","/Users/Lea/ada/capstone/react-flask-app/src/components/List.js":"6","/Users/Lea/ada/capstone/react-flask-app/src/components/Autocomplete.js":"7","/Users/Lea/ada/capstone/react-flask-app/src/components/AutoComplete.js":"8","/Users/Lea/ada/capstone/react-flask-app/src/components/LogoutHooks.js":"9","/Users/Lea/ada/capstone/react-flask-app/src/components/LoginHooks.js":"10","/Users/Lea/ada/capstone/react-flask-app/src/utils/refreshToken.js":"11","/Users/Lea/ada/capstone/react-flask-app/src/components/Login.js":"12","/Users/Lea/ada/capstone/react-flask-app/src/components/Logout.js":"13","/Users/Lea/ada/capstone/react-flask-app/src/components/ProfileButton.js":"14","/Users/Lea/ada/capstone/react-flask-app/src/components/Hello.js":"15","/Users/Lea/ada/capstone/react-flask-app/src/components/AddToListForm.js":"16"},{"size":362,"mtime":1612154608788,"results":"17","hashOfConfig":"18"},{"size":7922,"mtime":1612779502937,"results":"19","hashOfConfig":"18"},{"size":500,"mtime":1612422535055,"results":"20","hashOfConfig":"18"},{"size":1176,"mtime":1612508350069,"results":"21","hashOfConfig":"18"},{"size":1305,"mtime":1612778955003,"results":"22","hashOfConfig":"18"},{"size":126,"mtime":1612243026429,"results":"23","hashOfConfig":"18"},{"size":1719,"mtime":1612255456127,"results":"24","hashOfConfig":"18"},{"size":2560,"mtime":1612778968987,"results":"25","hashOfConfig":"18"},{"size":739,"mtime":1612422847458,"results":"26","hashOfConfig":"18"},{"size":1060,"mtime":1612423875228,"results":"27","hashOfConfig":"18"},{"size":662,"mtime":1612422766099,"results":"28","hashOfConfig":"18"},{"size":2272,"mtime":1612680891744,"results":"29","hashOfConfig":"18"},{"size":515,"mtime":1612423646303,"results":"30","hashOfConfig":"18"},{"size":926,"mtime":1612608602474,"results":"31","hashOfConfig":"18"},{"size":1666,"mtime":1612778509952,"results":"32","hashOfConfig":"18"},{"size":989,"mtime":1612782193365,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"g1z5al",{"filePath":"37","messages":"38","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"36"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"36"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/Lea/ada/capstone/react-flask-app/src/reportWebVitals.js",[],["73","74"],"/Users/Lea/ada/capstone/react-flask-app/src/App.js",["75","76","77","78","79","80","81","82","83","84","85"],"import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  BrowserRouter as Router,\n  HashRouter,\n  Switch,\n  Route,\n  Link,\n} from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\n/* Material UI imports */\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport {\n  CssBaseline,\n  AppBar,\n  Toolbar,\n  Typography,\n  IconButton,\n  MenuItem,\n  Snackbar,\n  Button,\n  Menu,\n  Fade,\n} from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { ProfileButton } from \"./components/ProfileButton\";\nimport { Login } from \"./components/Login\";\nimport { Hello } from \"./components/Hello\";\n// import Hello from './components/Hello'\nimport Search from \"./components/Search\";\nimport List from \"./components/List\";\nimport AutoComplete from \"./components/AutoComplete\";\nimport Details from \"./components/Details\";\n// import Login from './components/Login';\nimport Logout from \"./components/Logout\";\nimport LoginHooks from \"./components/LoginHooks\";\nimport LogoutHooks from \"./components/LogoutHooks\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\n\nimport \"./App.css\";\n\nconst API_URL_BASE = \"/\";\n\nconst clientId =\n  \"682392515702-8073lsudamcf05clhsl95fv6f1r9636i.apps.googleusercontent.com\";\naxios.defaults.headers.common[\"X-Requested-With\"] = \"XmlHttpRequest\";\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nconst ProtectedRoute = ({ children, authRequired, ...rest }) => {\n  return (\n    <Route {...rest}>\n      {!authRequired ? children : <Redirect to=\"/login\" />}\n    </Route>\n  );\n};\nconst App = () => {\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [currentPropertyId, setCurrentPropertyId] = useState(null);\n  const [currentProperty, setCurrentProperty] = useState(null);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [currentUserLists, setCurrentUserLists] = useState([]);\n\n  const classes = useStyles();\n\n  /* Is authentication required? */\n  const [authRequired, setAuthRequired] = useState(false);\n  const [profilePicture, setProfilePicture] = useState(null);\n  const [logoutError, showLogoutError] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  /* For logout  */\n  function handleLogout() {\n    async function do_logout() {\n      try {\n        const result = await axios.delete(`${API_URL_BASE}me`);\n        if (result.status === 200 || result.status === 204) {\n          setAuthRequired(true);\n        }\n      } catch (e) {\n        showLogoutError(true);\n      }\n    }\n    do_logout();\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      if (!authRequired) {\n        try {\n          const r = await axios.get(`${API_URL_BASE}me`);\n          setProfilePicture(r.data.picture);\n          setCurrentUser(r.data)\n          getLists(currentUser)\n        } catch (e) {\n          if (e.response) {\n            if (e.response.status === 401) {\n              setAuthRequired(true);\n            }\n          }\n        }\n      } else {\n        setProfilePicture(null);\n      }\n    }\n    fetchData();\n  }, [authRequired]);\n\n  const searchPropertyById = (address) => {\n    axios\n      .get(`${API_URL_BASE}id/${address}`)\n      .then((response) => {\n        const results = response.data[\"autocomplete\"][0][\"mpr_id\"];\n        setCurrentPropertyId(results);\n        console.log(results);\n        return results;\n      })\n      .then((response) => {\n        axios.get(`${API_URL_BASE}details/${response}`).then((response) => {\n          const results = response.data;\n          setCurrentProperty(results);\n          console.log(results);\n        });\n      })\n      .catch((error) => {\n        setErrorMessage(error.message);\n      });\n  };\n\n  const getLists = (currentUser) => {\n    axios.get(`${API_URL_BASE}${currentUser.google_id}`)\n    .then((response) => {\n      const results = response.data[\"message\"];\n      setCurrentUserLists(results);\n      console.log(results);\n      return results;\n    });\n  };\n  return (\n    <div>\n      <CssBaseline />\n      <Router>\n        <div>\n          <AppBar position=\"static\" style={{ background: \"#8bc34a\" }}>\n            <Toolbar>\n              <Typography\n                color=\"inherit\"\n                variant=\"h6\"\n                className={classes.title}\n              >\n                Greenacre Hub\n              </Typography>\n              <ProfileButton\n                handleLogout={handleLogout}\n                authenticated={!authRequired}\n                profilePicture={profilePicture}\n              />\n            </Toolbar>\n            <IconButton\n              edge=\"start\"\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"menu\"\n            >\n              <Button\n                aria-controls=\"fade-menu\"\n                aria-haspopup=\"true\"\n                onClick={handleClick}\n              >\n                Menu\n              </Button>\n              <Menu\n                id=\"fade-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={open}\n                onClose={handleClose}\n                TransitionComponent={Fade}\n              >\n                <MenuItem onClick={handleClose}>\n                  <Link to=\"/\">Home</Link>\n                </MenuItem>\n                <MenuItem onClick={handleClose}>\n                  <Link to=\"/list\">My List</Link>\n                </MenuItem>\n                <MenuItem onClick={handleClose}>\n                  <Link to=\"/AutoComplete\">Search</Link>\n                </MenuItem>\n              </Menu>\n            </IconButton>\n          </AppBar>\n\n          <main>\n            <section>\n              <Switch>\n                <Route path=\"/search\">\n                  <Search\n                    searchPropertyById={searchPropertyById}\n                    currentProperty={currentProperty}\n                  />\n                </Route>\n                <Route path=\"/list\">\n                  <List />\n                </Route>\n                <Route path=\"/details\">\n                  <Details currentProperty={currentProperty} />\n                </Route>\n                <Route path=\"/AutoComplete\">\n                  <AutoComplete\n                    searchPropertyById={searchPropertyById}\n                    currentProperty={currentProperty}\n                    currentPropertyId={currentPropertyId}\n                    currentUser={currentUser}\n                    currentUserLists={currentUserLists}\n                  />\n                </Route>\n                <Route path=\"/login\">\n                  {/* <Hello /> */}\n                  {/* <LoginHooks />\n                <LogoutHooks /> */}\n                  <Login\n                    authRequired={authRequired}\n                    setAuthRequired={setAuthRequired}\n                    clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}\n                  />\n                </Route>\n                <ProtectedRoute authRequired={authRequired} path=\"/\">\n                  <Hello\n                    setAuthRequired={setAuthRequired}\n                    getLists={getLists}\n                  />\n                </ProtectedRoute>\n              </Switch>\n            </section>\n          </main>\n        </div>\n      </Router>\n\n      <Snackbar\n        open={logoutError}\n        autoHideDuration={10000}\n        onClose={() => showLogoutError(false)}\n      >\n        <Alert variant=\"filled\" elevated={6} severity=\"error\">\n          Couldn't log out\n        </Alert>\n      </Snackbar>\n      {/* <div className=\"App\">\n      <h2>The Components way</h2>\n      <Login />\n      <br />\n      <Logout />\n\n    </div> */}\n    </div>\n  );\n};\n\nexport default App;\n","/Users/Lea/ada/capstone/react-flask-app/src/index.js",[],"/Users/Lea/ada/capstone/react-flask-app/src/components/Search.js",["86"],"import React, { useState } from 'react';\nimport Details from './Details';\nimport AutoComplete from './AutoComplete';\nimport \"./styles.scss\";\n\nconst Search = (props) => {\n  const [formFields, setFormFields] = useState({\n    searchTerm: '',\n  });\n\n  const onInputChange = (event) => {\n    setFormFields({searchTerm: event.target.value});\n    };\n\n    const onFormSubmit = (event) => {\n      event.preventDefault();\n  \n      props.searchPropertyById(formFields.searchTerm);\n  \n      setFormFields({\n        searchTerm: '',\n      });\n    };\n\n  return (\n    <div>\n      <form onSubmit={onFormSubmit} ><div>\n        <h1>SEARCH BY ADDRESS</h1>\n        <label htmlFor=\"searchTerm\"></label></div>\n        <input className='search-bar'\n          name=\"searchTerm\"\n          id=\"searchTerm\"\n          onChange={onInputChange}\n          value={formFields.searchTerm}\n          placeholder=\"Enter Address\"\n        />\n      <input \n        type=\"submit\"\n        name=\"Submit\"\n      />\n      <Details className='container' currentProperty={props.currentProperty} />\n      {/* <Autocomplete currentProperty={props.currentProperty} /> */}\n\n      </form>\n    </div>\n  )\n}\n\nexport default Search;","/Users/Lea/ada/capstone/react-flask-app/src/components/Details.js",["87"],"import React, { useState } from \"react\";\nimport AddToListForm from \"./AddToListForm\"\nimport CurrencyFormat from 'react-currency-format';\nimport \"./Details.css\";\n\nconst Details = (props) => {\n  return (\n    <div className='container'>\n      <ul className='flex-item'>\n      <li>\n          {props.currentProperty\n            ? <img src={props.currentProperty.properties[0].photos[0][\"href\"]} alt=\"thumbnail\" width = '90%' />\n            : \"\"}\n        </li>\n        <li>\n          {props.currentProperty\n            ? props.currentProperty.properties[0].property_id\n            : \"\"}\n        </li>\n        <li>{props.currentProperty ? props.address : \"\"}</li>\n        <li>\n          {props.currentProperty\n            ? <CurrencyFormat value={props.currentProperty.meta.tracking_params.listingPrice} displayType={'text'} thousandSeparator={true} prefix={'$'} />            \n            : \"\"}\n        </li>\n        <li>\n          {props.currentProperty\n            ? props.currentProperty.properties[0].description\n            : \"\"}\n        </li>\n        <li>{props.currentProperty\n            ? <AddToListForm currentProperty={props.currentProperty} currentUser={props.currentUser} currentUserLists={props.currentUserLists}/>\n            : \"\"}</li>  \n      </ul>\n\n    </div>\n  );\n};\n\nexport default Details;\n","/Users/Lea/ada/capstone/react-flask-app/src/components/List.js",["88"],"import React, { useState } from 'react';\n\nconst List = (props) => {\n  return (\n    <div>list</div>\n  )\n}\n\nexport default List;","/Users/Lea/ada/capstone/react-flask-app/src/components/Autocomplete.js",[],["89","90"],"/Users/Lea/ada/capstone/react-flask-app/src/components/AutoComplete.js",[],"/Users/Lea/ada/capstone/react-flask-app/src/components/LogoutHooks.js",[],"/Users/Lea/ada/capstone/react-flask-app/src/components/LoginHooks.js",[],"/Users/Lea/ada/capstone/react-flask-app/src/utils/refreshToken.js",[],"/Users/Lea/ada/capstone/react-flask-app/src/components/Login.js",[],"/Users/Lea/ada/capstone/react-flask-app/src/components/Logout.js",[],"/Users/Lea/ada/capstone/react-flask-app/src/components/ProfileButton.js",[],"/Users/Lea/ada/capstone/react-flask-app/src/components/Hello.js",["91"],"import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AddToListForm from \"./AddToListForm\"\nimport axios from \"axios\";\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    textAlign: \"center\",\n    marginTop: 40,\n  },\n}));\nconst API_URL_BASE = \"/\";\n\nexport function Hello(props) {\n  const [name, setName] = useState(\"\");\n  const [sub, setSub] = useState(\"\");\n  const classes = useStyles();\n  const [authRequired, setAuthRequired] = [\n    props.authRequired,\n    props.setAuthRequired,\n  ];\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const r = await axios.get(`${API_URL_BASE}me`);\n        //r{'google_id': current_user.id,\n        // 'name': current_user.name,\n        // 'picture': current_user.profile_pic}\n        setName(r.data.name);\n        setSub(r.data.google_id);\n      } catch (e) {\n        console.log(e);\n        if (e.response) {\n          if (e.response.status === 401) {\n            setAuthRequired(true);\n          }\n        }\n      }\n    }\n\n    fetchData();\n  }, [authRequired, setAuthRequired]);\n\n  if (name && sub)\n    return (\n      <div className={classes.content}>\n        <Typography variant=\"h4\">Hello, {name}</Typography>\n        <Typography variant=\"body1\">\n          Click your profile picture to log out.\n        </Typography>\n        <Typography variant=\"body1\">Google subscriber ID: {sub}.</Typography>\n      </div>\n    );\n  else\n    return (\n      <div className={classes.content}>\n        <Typography variant=\"h5\">Loading...</Typography>\n      </div>\n    );\n}\nexport default Hello;\n","/Users/Lea/ada/capstone/react-flask-app/src/components/AddToListForm.js",["92"],{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","severity":1,"message":"98","line":5,"column":3,"nodeType":"99","messageId":"100","endLine":5,"endColumn":13},{"ruleId":"97","severity":1,"message":"101","line":12,"column":10,"nodeType":"99","messageId":"100","endLine":12,"endColumn":22},{"ruleId":"97","severity":1,"message":"102","line":12,"column":36,"nodeType":"99","messageId":"100","endLine":12,"endColumn":41},{"ruleId":"97","severity":1,"message":"103","line":25,"column":8,"nodeType":"99","messageId":"100","endLine":25,"endColumn":16},{"ruleId":"97","severity":1,"message":"104","line":36,"column":8,"nodeType":"99","messageId":"100","endLine":36,"endColumn":14},{"ruleId":"97","severity":1,"message":"105","line":37,"column":8,"nodeType":"99","messageId":"100","endLine":37,"endColumn":18},{"ruleId":"97","severity":1,"message":"106","line":38,"column":8,"nodeType":"99","messageId":"100","endLine":38,"endColumn":19},{"ruleId":"97","severity":1,"message":"107","line":39,"column":10,"nodeType":"99","messageId":"100","endLine":39,"endColumn":24},{"ruleId":"97","severity":1,"message":"108","line":45,"column":7,"nodeType":"99","messageId":"100","endLine":45,"endColumn":15},{"ruleId":"97","severity":1,"message":"109","line":63,"column":10,"nodeType":"99","messageId":"100","endLine":63,"endColumn":22},{"ruleId":"110","severity":1,"message":"111","line":120,"column":6,"nodeType":"112","endLine":120,"endColumn":20,"suggestions":"113"},{"ruleId":"97","severity":1,"message":"114","line":3,"column":8,"nodeType":"99","messageId":"100","endLine":3,"endColumn":20},{"ruleId":"97","severity":1,"message":"115","line":1,"column":17,"nodeType":"99","messageId":"100","endLine":1,"endColumn":25},{"ruleId":"97","severity":1,"message":"115","line":1,"column":17,"nodeType":"99","messageId":"100","endLine":1,"endColumn":25},{"ruleId":"93","replacedBy":"116"},{"ruleId":"95","replacedBy":"117"},{"ruleId":"97","severity":1,"message":"118","line":4,"column":8,"nodeType":"99","messageId":"100","endLine":4,"endColumn":21},{"ruleId":"97","severity":1,"message":"119","line":2,"column":10,"nodeType":"99","messageId":"100","endLine":2,"endColumn":16},"no-native-reassign",["120"],"no-negated-in-lhs",["121"],"no-unused-vars","'HashRouter' is defined but never used.","Identifier","unusedVar","'createStyles' is defined but never used.","'Theme' is defined but never used.","'MenuIcon' is defined but never used.","'Logout' is defined but never used.","'LoginHooks' is defined but never used.","'LogoutHooks' is defined but never used.","'createMuiTheme' is defined but never used.","'clientId' is assigned a value but never used.","'errorMessage' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'currentUser'. Either include it or remove the dependency array.","ArrayExpression",["122"],"'AutoComplete' is defined but never used.","'useState' is defined but never used.",["120"],["121"],"'AddToListForm' is defined but never used.","'render' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"123","fix":"124"},"Update the dependencies array to be: [authRequired, currentUser]",{"range":"125","text":"126"},[3327,3341],"[authRequired, currentUser]"]